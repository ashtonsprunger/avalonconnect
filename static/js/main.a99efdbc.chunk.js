/*! For license information please see main.a99efdbc.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},141:function(e,t,n){},170:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var c,s=n(0),r=n(2),o=n.n(r),a=n(23),i=n.n(a),l=(n(103),n(4)),j=(n(104),n(105),n(13)),u=n(12),d=n.p+"static/media/logo192.d6a61878.png",b=function(){return Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsxs)("div",{className:"nav",children:[Object(s.jsx)("div",{children:Object(s.jsxs)("h4",{children:[Object(s.jsx)("img",{style:{width:"35px"},src:d})," Avalon"]})}),Object(s.jsx)(j.b,{to:"/settings",children:"Settings"})]}),Object(s.jsx)("br",{}),Object(s.jsx)(j.b,{className:"homeMenuItem",to:"/join",children:"Join a Game"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(j.b,{className:"homeMenuItem",to:"/host",children:"Host a Game"})]})},O=n(189),h=n(190),m=n(191),g=n(196),f=function(){var e=Object(r.useState)(localStorage.getItem("username")),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)("true"==localStorage.getItem("enterGame")),a=Object(l.a)(o,2),i=a[0],u=a[1];return Object(s.jsxs)("div",{style:{padding:"1em"},children:[Object(s.jsx)("div",{className:"nav",children:Object(s.jsx)(j.b,{className:"back",to:"/",children:"Back"})}),Object(s.jsx)("h2",{children:"Settings"}),Object(s.jsx)("hr",{}),Object(s.jsx)(O.a,{children:Object(s.jsxs)(h.a,{children:["Default Name",Object(s.jsx)(m.a,{style:{textTransform:"uppercase"},placeholder:"enter default name...",value:n,onChange:function(e){c(e.target.value),localStorage.setItem("username",e.target.value)}})]})}),Object(s.jsx)("hr",{}),Object(s.jsxs)(O.a,{children:[Object(s.jsx)(h.a,{for:"enterGame",children:"Automatically enter game after scanning QR code"}),Object(s.jsx)(g.a,{id:"enterGame",type:"switch",checked:i,onChange:function(e){console.log("hello"),u(e.target.checked),localStorage.setItem("enterGame",e.target.checked)}})]})]})},x=n(91),p=n.n(x),v=(n(141),n(54)),k=n.n(v),S=n(92),y=n(94),T=n(93),F=n.n(T),w=n(195),M=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],a=function(){o(!c)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("img",{src:e.src,onClick:a}),Object(s.jsx)(w.a,{isOpen:c,style:{padding:"1em"},children:Object(s.jsxs)("div",{style:{padding:".5em"},children:[Object(s.jsx)("img",{src:e.src,width:"100%"}),Object(s.jsx)("br",{}),Object(s.jsx)(y.a,{color:"warning",onClick:a,children:"Close"})]})})]})},C=function(e){var t=Object(r.useState)(!0),n=Object(l.a)(t,2),c=n[0],o=n[1],a=Object(r.useState)(!0),i=Object(l.a)(a,2),j=i[0],u=i[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),O=b[0],h=b[1];function m(e,t,n){if(n>=e.length)for(var c=n-e.length+1;c--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}var g=function(){var t=Object(S.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.a.toDataURL("https://avalonconnect.herokuapp.com/join/".concat(e.room));case 2:n=t.sent,h(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){e.socket.on("roomUsers",(function(t){t.room;var n=t.users;e.setUsers(n)})),g()}),[]),Object(r.useEffect)((function(){console.log(O)}),[O]);return Object(s.jsxs)("div",{className:"gameWrapper",children:[Object(s.jsx)("h1",{class:"room",children:e.room}),e.host?Object(s.jsx)("h5",{className:"hosting",children:"you are hosting"}):Object(s.jsx)("h5",{children:"waiting for host to start game..."}),e.users.map((function(t,n){return Object(s.jsxs)("h3",{style:{color:"".concat(e.socket.id==t.id?"#007bff":"black")},children:[t.username," ",e.host?Object(s.jsx)("span",{children:n>0?Object(s.jsx)(y.a,{onClick:function(){return function(t){e.rearrange(m(e.users,t,t-1))}(n)},children:"^"}):null}):null]})})),e.host?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{style:{backgroundColor:"green"},onClick:function(e){c?(o(!1),e.target.style.backgroundColor="#6c757d"):(o(!0),e.target.style.backgroundColor="green")},children:"Percival/Morgana"})," ",Object(s.jsx)(y.a,{style:{backgroundColor:"green"},onClick:function(e){j?(u(!1),e.target.style.backgroundColor="#6c757d"):(u(!0),e.target.style.backgroundColor="green")},children:"Oberon"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(y.a,{onClick:function(){e.socket.emit("startGame",{percivalMorgana:c,oberon:j,usersP:e.users}),e.changeRender("team")},children:"START GAME"}),Object(s.jsx)("br",{})]}):null,O?Object(s.jsx)(M,{src:O}):null]})},P=n(97),E=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){e.passFail||o(e.passesFails)}),[e.passFail]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),e.lastRound?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:c.length>0?"".concat(c.includes(!0)?c.filter((function(e){return e})).length:0," ").concat(1==c.filter((function(e){return e})).length?"pass":"passes",", ").concat(c.includes(!1)?c.filter((function(e){return!e})).length:0," ").concat(1==c.filter((function(e){return!e})).length?"fail":"fails"):null}),Object(s.jsxs)("h4",{children:["The last king was ",e.lastRound.king.username]}),Object(s.jsx)("h5",{children:"On the team:"}),e.lastRound.onTeam.map((function(e){return Object(s.jsx)("p",{children:e.username})})),Object(s.jsx)("h5",{children:"Approved:"}),e.lastRound.acceptedPeople.map((function(e){return Object(s.jsx)("p",{children:e.username})})),Object(s.jsx)("h5",{children:"Rejected:"}),e.lastRound.rejectedPeople.map((function(e){return Object(s.jsx)("p",{children:e.username})}))]}):null]})},R=function(e){var t=e.users.filter((function(t){return t.id==e.socket.id}))[0],n=Object(r.useState)(),c=Object(l.a)(n,2),o=c[0],a=c[1],i=Object(r.useState)(!1),j=Object(l.a)(i,2),u=j[0],d=j[1];return 1==e.onTeam.filter((function(t){return t.id==e.socket.id})).length?u?Object(s.jsx)("h5",{children:"Waiting for team to vote..."}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{onClick:function(){a(!0)},color:"success",children:"Pass"})," ","morgana"==e.roll||"minion"==e.roll||"mordred"==e.roll||"oberon"==e.roll?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{onClick:function(){a(!1)},color:"danger",children:"Fail"}),Object(s.jsx)("br",{})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{color:"danger",disabled:!0,children:"Fail"}),Object(s.jsx)("br",{})]}),void 0!=o?Object(s.jsx)(y.a,{style:{marginTop:"0.5em"},color:o?"success":"danger",onClick:function(){o?(e.addToPass(t),d(!0)):(e.addToFail(t),d(!0))},children:o?"Submit pass":"Submit fail"}):null]}):null},I=function(e){return Object(s.jsxs)(s.Fragment,{children:[[0,1,2,3,4].map((function(t){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{color:t==e.currentMission-1?"primary":void 0==e.missions[t]?"secondary":e.missions[t]?"success":"danger",style:{color:3==t&&e.gameInfo.twoFails?"black":""},children:e.gameInfo.teams[t]})," "]})})),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})},N=function(e){Object(r.useEffect)((function(){e.kingStarted&&0==e.voting&&1==e.displayVote&&(e.rejectedPeople.length>=e.acceptedPeople.length?(console.log("DISPLAY VOTE:",e.displayVote),e.setDisplayVote(!1),console.log("DISPLAY VOTE:",e.displayVote),e.setKingStarted(!1),e.king.id==e.socket.id&&e.nextKing()):(e.setPassFail(!0),e.setLastRound({king:e.king,onTeam:e.onTeam,rejectedPeople:e.rejectedPeople,acceptedPeople:e.acceptedPeople})))}),[e.displayVote,e.voting]),Object(r.useEffect)((function(){console.log("Here is the displayVote: ".concat(e.displayVote))}),[e.displayVote]),Object(r.useEffect)((function(){if(e.onTeam.length>0&&e.passesFails.length==e.onTeam.length&&e.king.id==e.socket.id){for(var t,n=0,c=0;c<e.passesFails.length;c++)e.passesFails[c]?0:n++;t=e.gameInfo.twoFails&&4==e.currentMission?n<2:0==n,e.addMission(t,e.currentMission),e.nextKing(),console.log("addMission",t,e.currentMission)}}),[e.passesFails]);var t=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e.id)return[!0,n];return[!1,-1]};return Object(s.jsxs)("div",{children:[e.king.id===e.socket.id?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h2",{style:{color:"#007bff"},children:"YOU ARE THE KING"})}):Object(s.jsxs)("h2",{children:[e.king.username," IS THE KING"]}),Object(s.jsx)(I,{currentMission:e.currentMission,missions:e.missions,gameInfo:e.gameInfo}),e.gameInfo.twoFails&&4==e.currentMission?Object(s.jsx)("h5",{style:{color:"#dc3545"},children:"This mission requires 2 fails to fail"}):null,e.users.map((function(n){return Object(s.jsx)("h3",{style:t(n,e.onTeam)[0]?n.id==e.socket.id?{backgroundColor:"#007bff",color:"white"}:{backgroundColor:"#6c757d",color:"white"}:n.id==e.socket.id?{color:"#007bff"}:{},onClick:function(){return function(n){e.socket.id!==e.king.id||e.voting||e.passFail||(t(n,e.onTeam)[0]?e.changeOnTeam(e.onTeam.filter((function(e){return e.id!==n.id}))):e.gameInfo.teams[e.currentMission-1]>e.onTeam.length&&e.changeOnTeam([].concat(Object(P.a)(e.onTeam),[n])))}(n)},children:n.username})})),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{style:{color:1==e.voting?1==e.acceptedPeople.filter((function(t){return t.id==e.socket.id})).length?"#218838":1==e.rejectedPeople.filter((function(t){return t.id==e.socket.id})).length?"#dc3545":null:1==e.acceptedPeople.filter((function(t){return t.id==e.socket.id})).length?"#218838":1==e.rejectedPeople.filter((function(t){return t.id==e.socket.id})).length?"#dc3545":e.displayVote?"#ffc107":null},children:1==e.voting?1==e.acceptedPeople.filter((function(t){return t.id==e.socket.id})).length?"You are approving...":1==e.rejectedPeople.filter((function(t){return t.id==e.socket.id})).length?"You are rejecting...":null:1==e.acceptedPeople.filter((function(t){return t.id==e.socket.id})).length?"You approved":1==e.rejectedPeople.filter((function(t){return t.id==e.socket.id})).length?"You rejected":e.displayVote?"You didn't vote":null}),1==e.passFail?1==e.onTeam.filter((function(t){return t.id==e.socket.id})).length?Object(s.jsx)("h5",{children:"You are on the team"}):Object(s.jsx)("h5",{children:"Waiting for team to vote..."}):null,e.passFail?Object(s.jsx)(R,{onTeam:e.onTeam,roll:e.roll,passFail:e.passFail,socket:e.socket,users:e.users,addToPass:e.addToPass,addToFail:e.addToFail}):null,e.gameInfo.teams[e.currentMission-1]!=e.onTeam.length||e.socket.id!==e.king.id||e.voting||e.displayVote?null:Object(s.jsx)(y.a,{onClick:function(){e.socket.emit("callVote")},children:"Call for a vote"}),e.voting?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{color:"success",onClick:function(){e.displayVote||e.addToAccepted(e.users.filter((function(t){return t.id===e.socket.id}))[0])},children:"APPROVE"})," ",Object(s.jsx)(y.a,{color:"danger",onClick:function(){e.displayVote||e.addToRejected(e.users.filter((function(t){return t.id===e.socket.id}))[0])},children:"REJECT"})]}):null,Object(s.jsx)("br",{}),Object(s.jsx)(E,{lastRound:e.lastRound,missions:e.missions,currentMission:e.currentMission,gameInfo:e.gameInfo,passesFails:e.passesFails,passFail:e.passFail})]})},A=(n(170),function(e){Object(r.useEffect)((function(){}),[]);var t=function(){e.setRollOpen(!e.rollOpen),e.setRollClosed(!0)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(y.a,{color:"primary",onClick:t,children:e.username}),Object(s.jsx)(w.a,{isOpen:e.rollOpen,children:Object(s.jsxs)("div",{id:"roll-div",children:[Object(s.jsx)("h3",{style:{color:"merlin"==e.roll||"servant"==e.roll||"percival"==e.roll?"#218838":"#dc3545"},children:"servant"===e.roll?"You are a loyal servant of Arthur":"percival"===e.roll?"You are Percival":"merlin"===e.roll?"You are Merlin":"minion"===e.roll?"You are a minion of Mordred":"morgana"===e.roll?"You are Morgana":"mordred"===e.roll?"You are Mordred":"oberon"===e.roll?"You are Oberon":null}),Object(s.jsx)("br",{}),e.sees&&0!=e.sees.length?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h4",{children:"You see:"}),Object(s.jsx)("br",{})]}):null,e.sees?e.sees.map((function(e){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("h4",{children:["\u2022 ",e]})})})):null,Object(s.jsx)("br",{}),Object(s.jsx)("h4",{children:"Rolls:"}),Object(s.jsx)("br",{}),void 0==e.characters?null:e.characters.map((function(e){return Object(s.jsx)("h5",{style:{color:"merlin"==e||"servant"==e||"percival"==e?"#218838":"#dc3545"},children:"merlin"==e?"Merlin":"servant"==e?"Loyal servant of Arthur":"minion"==e?"Minion of Mordred":"percival"==e?"Percival":"morgana"==e?"Morgana":"mordred"==e?"Mordred":"oberon"==e?"Oberon":"Unknown roll!! This is a bug!! You should never see this message!!!"})})),Object(s.jsx)("br",{}),Object(s.jsx)(y.a,{color:"success",onClick:t,children:"Close"})]})})]})}),G=function(e){var t=Object(r.useState)(["1ST","2ND","3RD","4TH","5TH"]),n=Object(l.a)(t,2),c=n[0];n[1];return Object(s.jsxs)(s.Fragment,{children:[void 0!=e.merlinCorrect?e.merlinCorrect?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{style:{color:"#dc3545"},children:"Bad guys win!"}),Object(s.jsx)("h5",{children:"Merlin was guessed correctly"})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{style:{color:"#218838"},children:"Good guys win!"}),Object(s.jsx)("h5",{children:"Merlin was guessed incorrectly"})]}):3==e.missions.filter((function(e){return e})).length?Object(s.jsx)("h2",{style:{color:"#218838"},children:"Good guys win!"}):Object(s.jsx)("h2",{style:{color:"#dc3545"},children:"Bad guys win!"}),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"Characters"}),e.users.map((function(e){return Object(s.jsxs)("h5",{style:{color:"merlin"==e.roll||"servant"==e.roll||"percival"==e.roll?"#218838":"#dc3545"},children:[e.username,":"," ","merlin"==e.roll?"Merlin":"servant"==e.roll?"Loyal servant of Arthur":"minion"==e.roll?"Minion of Mordred":"percival"==e.roll?"Percival":"morgana"==e.roll?"Morgana":"mordred"==e.roll?"Mordred":"oberon"==e.roll?"Oberon":"Unknown roll!! This is a bug!! You should never see this message!!!"]})})),Object(s.jsx)("br",{}),Object(s.jsx)("h3",{children:"Missions"}),e.missions.map((function(e,t){return Object(s.jsx)("h4",{style:{color:e?"#218838":"#dc3545"},children:"".concat(c[t]," MISSION - ").concat(e?"PASSED":"FAILED")})}))]})},V=n(192),D=n(197),Y=n(198),U=n(193),L=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],a=Object(r.useState)("Select Merlin"),i=Object(l.a)(a,2),j=i[0],u=i[1],d=Object(r.useState)(),b=Object(l.a)(d,2),O=b[0],h=b[1];return Object(s.jsxs)(s.Fragment,{children:[1==e.badPeople.filter((function(t){return t.id==e.socket.id})).length?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:"Go discuss who you think Merlin is!"}),e.chosenOne&&e.chosenOne.id==e.socket.id?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(V.a,{isOpen:c,toggle:function(){return o((function(e){return!e}))},children:[Object(s.jsx)(D.a,{caret:!0,children:j}),Object(s.jsx)(Y.a,{children:e.goodPeople.map((function(e){return Object(s.jsx)(U.a,{onClick:function(){u(e.username),h(e)},children:e.username})}))})]}),O?Object(s.jsxs)(y.a,{color:"success",onClick:function(){e.socket.emit("guessMerlin",O)},children:["Submit ",O.username," as guess"]}):null]}):e.chosenOne?Object(s.jsxs)("h3",{children:[e.chosenOne.username," will submit the guess"]}):null]}):Object(s.jsx)("h3",{children:"The bad guys are discussing Merlin, remember to keep it a secret!"}),e.badPeople.map((function(e){return Object(s.jsxs)("h5",{style:{color:"#dc3545"},children:[e.username,":"," ","merlin"==e.roll?"Merlin":"servant"==e.roll?"Loyal servant of Arthur":"minion"==e.roll?"Minion of Mordred":"percival"==e.roll?"Percival":"morgana"==e.roll?"Morgana":"mordred"==e.roll?"Mordred":"oberon"==e.roll?"Oberon":"Unknown roll!! This is a bug!! You should never see this message!!!"]})}))]})},K=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"nav",children:Object(s.jsx)(j.b,{to:"/",children:"Exit"})}),Object(s.jsx)("h1",{children:"Loading..."})]})},B=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){return window.onbeforeunload=c&&function(){return"Exit game?"},function(){window.onbeforeunload=null}}),[c]),[Object(s.jsx)(u.a,{when:c,message:"Exit game?"}),function(){return o(!0)},function(){return o(!1)}]},H=function(){var e=Object(r.useState)(Object(u.h)().username.toUpperCase()),t=Object(l.a)(e,2),n=t[0],o=(t[1],Object(r.useState)(Object(u.h)().room.toUpperCase())),a=Object(l.a)(o,2),i=a[0],j=(a[1],Object(r.useState)([])),d=Object(l.a)(j,2),b=d[0],O=d[1],h=Object(r.useState)([]),m=Object(l.a)(h,2),g=m[0],f=m[1],x=Object(r.useState)(!0),v=Object(l.a)(x,2),k=v[0],S=v[1],y=Object(r.useState)(!1),T=Object(l.a)(y,2),F=T[0],w=T[1],M=Object(r.useState)("true"===Object(u.h)().host),P=Object(l.a)(M,2),E=P[0],R=(P[1],Object(r.useState)("waiting")),I=Object(l.a)(R,2),V=I[0],D=I[1],Y=Object(r.useState)(),U=Object(l.a)(Y,2),H=U[0],J=U[1],W=Object(r.useState)(),q=Object(l.a)(W,2),z=q[0],Q=q[1],X=Object(r.useState)(),Z=Object(l.a)(X,2),$=Z[0],_=Z[1],ee=Object(r.useState)([]),te=Object(l.a)(ee,2),ne=te[0],ce=te[1],se=Object(r.useState)([]),re=Object(l.a)(se,2),oe=re[0],ae=re[1],ie=Object(r.useState)([]),le=Object(l.a)(ie,2),je=le[0],ue=le[1],de=Object(r.useState)(),be=Object(l.a)(de,2),Oe=be[0],he=be[1],me=Object(r.useState)(1),ge=Object(l.a)(me,2),fe=ge[0],xe=ge[1],pe=Object(r.useState)([]),ve=Object(l.a)(pe,2),ke=ve[0],Se=ve[1],ye=Object(r.useState)(!1),Te=Object(l.a)(ye,2),Fe=Te[0],we=Te[1],Me=Object(r.useState)(!1),Ce=Object(l.a)(Me,2),Pe=Ce[0],Ee=Ce[1],Re=Object(r.useState)(!1),Ie=Object(l.a)(Re,2),Ne=Ie[0],Ae=Ie[1],Ge=Object(r.useState)(!1),Ve=Object(l.a)(Ge,2),De=Ve[0],Ye=Ve[1],Ue=Object(r.useState)([]),Le=Object(l.a)(Ue,2),Ke=Le[0],Be=Le[1],He=Object(r.useState)(),Je=Object(l.a)(He,2),We=Je[0],qe=Je[1],ze=Object(r.useState)(),Qe=Object(l.a)(ze,2),Xe=Qe[0],Ze=Qe[1],$e=Object(r.useState)([]),_e=Object(l.a)($e,2),et=_e[0],tt=_e[1],nt=Object(r.useState)([]),ct=Object(l.a)(nt,2),st=ct[0],rt=ct[1],ot=Object(r.useState)(),at=Object(l.a)(ot,2),it=at[0],lt=at[1],jt=B(),ut=Object(l.a)(jt,3),dt=ut[0],bt=ut[1];ut[2];Object(r.useEffect)((function(){c=p()("avalonconnect-server.herokuapp.com"),console.log("SOCKET",c),bt(),c.emit("joinRoom",{room:i,username:n}),c.on("roomUsers",(function(e){e.room;var t=e.users;console.log("new users",t),O(t)})),c.on("rearrange",O),c.on("characters",(function(e){f(e),console.log(e)})),c.on("newRender",ht),c.on("newKing",xt),c.on("newOnTeam",mt),c.on("newAcceptedRejected",gt),c.on("newPassFail",Be),c.on("newPassFailSingle",Ye),c.on("showVote",ft),c.on("charReveal",(function(e){var t=e.roll,n=e.sees;Q(n),J(t),console.log("roll, sees:",t,n)})),c.on("gameInfo",he),c.on("callVote",Ot),c.on("voting",we),c.on("lastRound",qe),c.on("missions",Se),c.on("currentMission",xe),c.on("badPeople",tt),c.on("goodPeople",rt),c.on("chosenOne",lt),c.on("merlinCorrect",Ze),document.body.onbeforeunload="return pageUnload()"}),[]);var Ot=function(){Ae(!0),we(!0)},ht=function(e){D(e)},mt=function(e){ce(e)},gt=function(e){ae(e.accepted),ue(e.rejected)},ft=function(e){Ee(e)},xt=function(e){_(e),console.log("The new king is ".concat(e))};return Object(s.jsxs)("div",{className:"gameWrapper",children:["waiting"!==V&&"results"!==V?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("h2",{children:Object(s.jsx)(A,{newRender:ht,roll:H,sees:z,socket:c,rollOpen:k,setRollOpen:S,username:n,setRollClosed:w,characters:g})})}):null,"waiting"===V?c&&b.length>0?Object(s.jsx)(C,{changeRender:function(e){D(e),c.emit("changeRender",e)},host:E,room:i,users:b,setUsers:O,socket:c,setRollOpen:S,rearrange:function(e){c.emit("rearrange",e)}}):Object(s.jsx)(K,{}):"team"===V&&F?Object(s.jsx)(N,{onTeam:ne,changeOnTeam:function(e){ce(e),c.emit("changeOnTeam",e)},rejectedPeople:je,addToRejected:function(e){c.emit("addToRejected",e)},acceptedPeople:oe,addToAccepted:function(e){c.emit("addToAccepted",e)},king:$,socket:c,users:b,gameInfo:Oe,currentMission:fe,voting:Fe,setVoting:we,displayVote:Pe,setDisplayVote:Ee,nextKing:function(){c.emit("lastRound",{king:$,onTeam:ne,rejectedPeople:je,acceptedPeople:oe}),c.emit("nextKing")},kingStarted:Ne,setKingStarted:Ae,lastRound:We,setLastRound:qe,passFail:De,setPassFail:Ye,passesFails:Ke,setPassesFails:Be,roll:H,addToPass:function(e){c.emit("addToPass",e)},addToFail:function(e){c.emit("addToFail",e)},addMission:function(e,t){c.emit("mission",{passed:e,mission:t})},missions:ke,newPassFail:function(e){c.emit(e)}}):"roll"===V?Object(s.jsx)(A,{newRender:ht,roll:H,sees:z,socket:c}):"merlin"==V?Object(s.jsx)(L,{users:b,socket:c,setMerlinCorrect:Ze,chosenOne:it,badPeople:et,goodPeople:st}):"results"==V?Object(s.jsx)(G,{users:b,missions:ke,merlinCorrect:Xe}):null,dt]})},J=n(194),W=(n(185),function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],o=n[1],a=Object(r.useState)(Object(u.h)().room),i=Object(l.a)(a,2),d=i[0],b=i[1],g=Object(r.useState)(!1),f=Object(l.a)(g,2),x=f[0],p=f[1];Object(r.useEffect)((function(){""!=window.localStorage.getItem("username")&&o(window.localStorage.getItem("username")),d&&""!=localStorage.getItem("username")&&"true"==localStorage.getItem("enterGame")&&p(!0)}),[]);return Object(s.jsxs)("div",{className:"wrapper",children:[x?Object(s.jsx)(u.b,{to:"/game/".concat(c,"/").concat(d,"/false")}):null,Object(s.jsx)("div",{className:"nav",children:Object(s.jsx)(j.b,{className:"back",to:"/",children:"Back"})}),Object(s.jsxs)(J.a,{onSubmit:function(e){e.preventDefault()},children:[Object(s.jsx)("h2",{children:"Join a Game"}),Object(s.jsx)(O.a,{className:"formGroup",children:Object(s.jsxs)(h.a,{children:["NAME",Object(s.jsx)(m.a,{className:"joinUsername",value:c,onChange:function(e){o(e.target.value)},placeholder:"Enter name..."})]})}),Object(s.jsx)(O.a,{className:"formGroup",children:Object(s.jsxs)(h.a,{children:["GAME CODE",Object(s.jsx)(m.a,{className:"joinRoom",value:d,onChange:function(e){return b(e.target.value)},placeholder:"Enter game code..."})]})}),Object(s.jsx)(j.b,{className:"joinGame",onClick:function(e){return d&&c?4==d.length?null:(alert("GAME CODE MUST BE 4 DIGITS!!"),e.preventDefault()):e.preventDefault()},to:"/game/".concat(c,"/").concat(d,"/false"),children:"Join"})]})]})}),q=(n(186),function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz",c=n.length,s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*c));return t}(4)),a=Object(l.a)(o,2),i=a[0];a[1];Object(r.useEffect)((function(){""!=window.localStorage.getItem("username")&&c(window.localStorage.getItem("username"))}),[]);return Object(r.useEffect)((function(){}),[]),Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)("div",{className:"nav",children:Object(s.jsx)(j.b,{className:"back",to:"/",children:"Back"})}),Object(s.jsxs)(J.a,{onSubmit:function(e){e.preventDefault()},children:[Object(s.jsx)("h2",{children:"Host a Game"}),Object(s.jsx)(O.a,{className:"formGroup",children:Object(s.jsxs)(h.a,{children:["NAME",Object(s.jsx)(m.a,{className:"hostUsername",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Enter name...",required:!0})]})}),Object(s.jsx)(j.b,{className:"hostGame",onClick:function(e){return i&&n?4==i.length?null:(alert("Error!"),e.preventDefault()):e.preventDefault()},to:"/game/".concat(n,"/").concat(i,"/true"),children:"Host"})]})]})}),z=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2);t[0],t[1];return Object(r.useEffect)((function(){}),[]),Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(j.a,{children:Object(s.jsxs)(u.e,{children:[Object(s.jsx)(u.c,{exact:!0,path:"/join/:room",children:Object(s.jsx)(W,{})}),Object(s.jsx)(u.c,{exact:!0,path:"/join",children:Object(s.jsx)(W,{})}),Object(s.jsx)(u.c,{exact:!0,path:"/host",children:Object(s.jsx)(q,{})}),Object(s.jsx)(u.c,{exact:!0,path:"/settings",children:Object(s.jsx)(f,{})}),Object(s.jsx)(u.c,{exact:!0,path:"/",children:Object(s.jsx)(b,{})}),Object(s.jsx)(u.c,{path:"/game/:username/:room/:host",children:Object(s.jsx)(H,{})}),Object(s.jsx)(u.c,{children:Object(s.jsx)(u.b,{to:"/join"})})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};n(187);i.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(z,{})}),document.getElementById("root")),Q()}},[[188,1,2]]]);
//# sourceMappingURL=main.a99efdbc.chunk.js.map